# KODA: –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞

## –û–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞

**–ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞:** –í–∏–∑—É–∞–ª—å–Ω–∞—è –Ω–æ–≤–µ–ª–ª–∞ —Å –î—Ä–∞–∫—É–ª–æ–π (Telegram Mini App + PWA)

**–¢–∏–ø –ø—Ä–æ–µ–∫—Ç–∞:** –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –≤–∏–∑—É–∞–ª—å–Ω–∞—è –Ω–æ–≤–µ–ª–ª–∞ —Å —Å–∏—Å—Ç–µ–º–æ–π –≤—ã–±–æ—Ä–∞, –∏–Ω–≤–µ–Ω—Ç–∞—Ä—ë–º, –º–∏–Ω–∏-–∏–≥—Ä–∞–º–∏ –∏ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–º —Ä–µ–¥–∞–∫—Ç–æ—Ä–æ–º –∏—Å—Ç–æ—Ä–∏–π

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—É—é –∏—Å—Ç–æ—Ä–∏—é –≤ —Ñ–æ—Ä–º–∞—Ç–µ –≤–∏–∑—É–∞–ª—å–Ω–æ–π –Ω–æ–≤–µ–ª–ª—ã, –∫–æ—Ç–æ—Ä–∞—è —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ Telegram Mini App –∏ PWA-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –ø—Ä–æ—Ö–æ–¥–∏—Ç—å –∏—Å—Ç–æ—Ä–∏–∏ —Å –î—Ä–∞–∫—É–ª–æ–π –∏ –¥—Ä—É–≥–∏–º–∏ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞–º–∏, –¥–µ–ª–∞—Ç—å –≤—ã–±–æ—Ä, –≤–ª–∏—è—é—â–∏–π –Ω–∞ —Å—é–∂–µ—Ç, —Å–æ–±–∏—Ä–∞—Ç—å –ø—Ä–µ–¥–º–µ—Ç—ã, –∏–≥—Ä–∞—Ç—å –≤ –º–∏–Ω–∏-–∏–≥—Ä—ã. –¢–∞–∫–∂–µ –¥–æ—Å—Ç—É–ø–µ–Ω –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∏—Å—Ç–æ—Ä–∏–π (–¥–æ—Å—Ç—É–ø–µ–Ω —Ç–æ–ª—å–∫–æ –∞–≤—Ç–æ—Ä–∞–º –∏ –∞–¥–º–∏–Ω–∞–º —Å –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–æ–º).

## –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

### Frontend
- **Svelte 5** (—Å runes) ‚Äî —Ä–µ–∞–∫—Ç–∏–≤–Ω—ã–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è UI
- **TypeScript** ‚Äî —Ç–∏–ø–∏–∑–∞—Ü–∏—è JavaScript
- **Vite** ‚Äî —Å–±–æ—Ä—â–∏–∫ –∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- **PWA** ‚Äî –ø—Ä–æ–≥—Ä–µ—Å—Å–∏–≤–Ω–æ–µ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å –æ—Ñ–ª–∞–π–Ω-–ø–æ–¥–¥–µ—Ä–∂–∫–æ–π

### Backend –∏ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
- **Supabase** ‚Äî –æ–±–ª–∞—á–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∏ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ —Ñ–∞–π–ª–æ–≤
  - –•—Ä–∞–Ω–∏–ª–∏—â–µ —Ñ–∞–π–ª–æ–≤ –¥–ª—è –∏—Å—Ç–æ—Ä–∏–π (JSON) –∏ —Ä–µ—Å—É—Ä—Å–æ–≤ (–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, Rive-—Ñ–∞–π–ª—ã)
  - –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —á–µ—Ä–µ–∑ Telegram
  - –¢–∞–±–ª–∏—Ü–∞ `stories` –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö –∏—Å—Ç–æ—Ä–∏–π

### –ê–Ω–∏–º–∞—Ü–∏–∏ –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è
- **Rive** ‚Äî –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –∞–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π –∏ —Ñ–æ–Ω–æ–≤
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –¥–ª—è —Ñ–æ–Ω–æ–≤ –∏ –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π

### –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞
- **Telegram Mini App** ‚Äî –æ—Å–Ω–æ–≤–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –∑–∞–ø—É—Å–∫–∞
- **PWA** ‚Äî –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –∏ —Ä–∞–±–æ—Ç—ã –æ—Ñ–ª–∞–π–Ω
- **iOS Safari** ‚Äî –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ –¥–ª—è Safari (viewport-fit=cover, black-translucent status bar)

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π

```
src/
‚îú‚îÄ‚îÄ lib/
‚îÇ   ‚îú‚îÄ‚îÄ novella/              # –ò–≥—Ä–æ–≤–æ–π –¥–≤–∏–∂–æ–∫ –≤–∏–∑—É–∞–ª—å–Ω–æ–π –Ω–æ–≤–µ–ª–ª—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Main.svelte       # –ì–ª–∞–≤–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∏–≥—Ä—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ DialogueCard.svelte # –ö–∞—Ä—Ç–æ—á–∫–∞ –¥–∏–∞–ª–æ–≥–∞ —Å –≤—ã–±–æ—Ä–æ–º
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Rive.svelte       # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è Rive-–∞–Ω–∏–º–∞—Ü–∏–π
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ MinigameLauncher.svelte # –ó–∞–ø—É—Å–∫ –º–∏–Ω–∏-–∏–≥—Ä
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ components/       # –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∏–≥—Ä–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ Inventory.svelte    # –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å –∏–≥—Ä–æ–∫–∞
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ StorySelector.svelte # –í—ã–±–æ—Ä –∏—Å—Ç–æ—Ä–∏–∏
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ Trophies.svelte     # –¢—Ä–æ—Ñ–µ–∏/–¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ editor/               # –í–∏–∑—É–∞–ª—å–Ω—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä –∏—Å—Ç–æ—Ä–∏–π
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Editor.svelte     # –ì–ª–∞–≤–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ components/       # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã UI —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ EditorSidebar.svelte
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ DialogueForm.svelte
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ChapterForm.svelte
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ItemsManager.svelte
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ OptionEditor.svelte
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ PreviewPanel.svelte
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ InfographicPanel.svelte
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ StorySelector.svelte
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ stores/           # –°—Ç–æ—Ä—ã —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ editorStore.svelte.ts
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ storyStore.ts
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ resourceStore.ts
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ bucketStore.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ types/            # TypeScript —Ç–∏–ø—ã
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.ts
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ utils/            # –£—Ç–∏–ª–∏—Ç—ã (–º–∏–≥—Ä–∞—Ü–∏–∏, –≤–∞–ª–∏–¥–∞—Ü–∏—è)
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ migration.ts
‚îÇ   ‚îú‚îÄ‚îÄ minigames/            # –ö–æ–ª–ª–µ–∫—Ü–∏—è –º–∏–Ω–∏-–∏–≥—Ä
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ MemoMonsters.svelte
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ OnetMonsters.svelte
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ OnetMonsters144.svelte
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AlchemicalCalculator.svelte
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AlchemistsCross.svelte
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Bones421.svelte
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ BrokenMirror.svelte
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ CrystalsOfTime.svelte
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ CursedCrypts.svelte
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Evolution2048.svelte
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ FloodIt.svelte
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ LabyrinthOfMinotaur.svelte
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ LightOut.svelte
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ RunesOfFate.svelte
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ SoulCycle.svelte
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ TicTacToe.svelte
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ TowerOfSouls.svelte
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ WhisperOfSpiders.svelte
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ WitchesCauldrons.svelte
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AllGames.svelte
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ gamesList.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ types.ts
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ components/       # –û–±—â–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –º–∏–Ω–∏-–∏–≥—Ä
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ BodyWrapper.svelte
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ GameFooter.svelte
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ GameHeader.svelte
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ MinigameModal.svelte
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ RewardPanel.svelte
‚îÇ   ‚îú‚îÄ‚îÄ novella_telegram/     # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ TelegramApp.svelte
‚îÇ   ‚îú‚îÄ‚îÄ components/           # –û–±—â–∏–µ UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AuthModal.svelte
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ UserMenu.svelte
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ResetPasswordPage.svelte
‚îÇ   ‚îú‚îÄ‚îÄ store/                # –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Å—Ç–æ—Ä—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ gameStore.svelte.ts  # –ü—Ä–æ–≥—Ä–µ—Å—Å –∏–≥—Ä—ã, –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å, —Å—Ç–∞—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ authStore.svelte.ts  # –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ storiesStore.svelte.ts # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏—è–º–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ store.svelte.ts      # –ì–ª–∞–≤–Ω—ã–π —Å—Ç–æ—Ä –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ gameModeStore.svelte.ts # –†–µ–∂–∏–º—ã –∏–≥—Ä—ã
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ userKeyStore.ts      # –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
‚îÇ   ‚îú‚îÄ‚îÄ supabaseClient.ts     # –ö–ª–∏–µ–Ω—Ç Supabase —Å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º
‚îÇ   ‚îú‚îÄ‚îÄ telegram.ts           # –£—Ç–∏–ª–∏—Ç—ã Telegram WebApp
‚îÇ   ‚îú‚îÄ‚îÄ client_utils.ts       # –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è –∫–ª–∏–µ–Ω—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ types/                # –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Ç–∏–ø—ã
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ supabase.ts
‚îÇ   ‚îî‚îÄ‚îÄ yjsSupabaseProvider.ts # –ü—Ä–æ–≤–∞–π–¥–µ—Ä –¥–ª—è –∫–æ–ª–ª–∞–±–æ—Ä–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ public/
‚îÇ   ‚îú‚îÄ‚îÄ sw.js                 # Service Worker –¥–ª—è PWA
‚îÇ   ‚îú‚îÄ‚îÄ manifest.json         # PWA –º–∞–Ω–∏—Ñ–µ—Å—Ç
‚îÇ   ‚îî‚îÄ‚îÄ stories/              # –ò—Å—Ç–æ—Ä–∏–∏ –¥–ª—è –æ—Ñ–ª–∞–π–Ω
‚îú‚îÄ‚îÄ App.svelte                # –ö–æ—Ä–Ω–µ–≤–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
‚îú‚îÄ‚îÄ main.ts                   # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îú‚îÄ‚îÄ app.css                   # –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏
‚îî‚îÄ‚îÄ state.svelte.ts           # –ì–ª–æ–±–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
```

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

#### –ò–≥—Ä–æ–≤–æ–π –¥–≤–∏–∂–æ–∫ (`src/lib/novella/`)
- **Main.svelte**: –ó–∞–≥—Ä—É–∂–∞–µ—Ç –∏—Å—Ç–æ—Ä–∏—é –∏–∑ JSON, —É–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –∏–≥—Ä—ã, –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –Ω–∞–≤–∏–≥–∞—Ü–∏—é –º–µ–∂–¥—É –¥–∏–∞–ª–æ–≥–∞–º–∏. –°–æ–¥–µ—Ä–∂–∏—Ç –ø—Ä–æ–≤–µ—Ä–∫—É –æ–Ω–ª–∞–π–Ω-—Å—Ç–∞—Ç—É—Å–∞ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–æ–º –∫ —Ä–µ–¥–∞–∫—Ç–æ—Ä—É. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤–Ω–µ—à–Ω–∏–µ —Å—Å—ã–ª–∫–∏ —á–µ—Ä–µ–∑ URL –ø–∞—Ä–∞–º–µ—Ç—Ä `?story=id`. –ö–Ω–æ–ø–∫–∞ –≤—ã–±–æ—Ä–∞ –∏—Å—Ç–æ—Ä–∏–∏ (üìö) –≤ –ª–µ–≤–æ–º –Ω–∏–∂–Ω–µ–º —É–≥–ª—É, –∫–Ω–æ–ø–∫–∞ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞ (‚úèÔ∏è) –≤ –ø—Ä–∞–≤–æ–º –Ω–∏–∂–Ω–µ–º —É–≥–ª—É.
- **DialogueCard.svelte**: –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Ç–µ–∫—Å—Ç –¥–∏–∞–ª–æ–≥–∞, —Ñ–æ–Ω—ã, –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π –∏ –≤–∞—Ä–∏–∞–Ω—Ç—ã –æ—Ç–≤–µ—Ç–æ–≤. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç:
  - –°–≤–∞–π–ø –≤–ª–µ–≤–æ/–≤–ø—Ä–∞–≤–æ –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥–∞ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É –¥–∏–∞–ª–æ–≥—É (–º–æ–±–∏–ª—å–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞)
  - –ü—Ä–æ–ø `isPreview` –¥–ª—è —Ä–µ–∂–∏–º–∞ –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ
  - –ö–ª–∏–∫ –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥–∞ (–¥–µ—Å–∫—Ç–æ–ø—ã)
  - –ü–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
- **Rive.svelte**: –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ Rive-–∞–Ω–∏–º–∞—Ü–∏–π
- **MinigameLauncher.svelte**: –ó–∞–ø—É—Å–∫ –º–∏–Ω–∏-–∏–≥—Ä –∏–∑ –¥–∏–∞–ª–æ–≥–æ–≤
- **Inventory.svelte**: –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—ë–º
- **StorySelector.svelte**: –í—ã–±–æ—Ä –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∏—Å—Ç–æ—Ä–∏–π (–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç fallback –¥–ª—è –æ—Ñ–ª–∞–π–Ω)
- **Trophies.svelte**: –°–∏—Å—Ç–µ–º–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π/—Ç—Ä–æ—Ñ–µ–µ–≤

#### –†–µ–¥–∞–∫—Ç–æ—Ä (`src/lib/editor/`)
- **Editor.svelte**: –ì–ª–∞–≤–Ω–∞—è –ø–∞–Ω–µ–ª—å —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞ —Å —Ä–∞–∑–¥–µ–ª—ë–Ω–Ω—ã–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º. –°–æ–¥–µ—Ä–∂–∏—Ç —Ñ–ª–∞–≥ `manualStorySelected` –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ –∏—Å—Ç–æ—Ä–∏–π –∏–∑ –ë–î. –ö–Ω–æ–ø–∫–∞ –≤—ã–±–æ—Ä–∞ –∏—Å—Ç–æ—Ä–∏–∏ –≤ –ø—Ä–∞–≤–æ–º –Ω–∏–∂–Ω–µ–º —É–≥–ª—É ("üìö –í—ã–±—Ä–∞—Ç—å –∏—Å—Ç–æ—Ä–∏—é").
- **EditorSidebar.svelte**: –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –≥–ª–∞–≤–∞–º –∏ –¥–∏–∞–ª–æ–≥–∞–º
- **DialogueForm.svelte**: –§–æ—Ä–º–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∏–∞–ª–æ–≥–∞
- **ChapterForm.svelte**: –§–æ—Ä–º–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≥–ª–∞–≤—ã
- **ItemsManager.svelte**: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–µ–¥–º–µ—Ç–∞–º–∏ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è
- **OptionEditor.svelte**: –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –æ—Ç–≤–µ—Ç–∞
- **PreviewPanel.svelte**: –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä —Ç–µ–∫—É—â–µ–π —Å—Ü–µ–Ω—ã (–ø–µ—Ä–µ–¥–∞—ë—Ç `isPreview={true}` –≤ DialogueCard)
- **StorySelector.svelte**: –í—ã–±–æ—Ä –∏—Å—Ç–æ—Ä–∏–∏ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (—Ç–æ–ª—å–∫–æ –¥–ª—è –∞–≤—Ç–æ—Ä–æ–≤/–∞–¥–º–∏–Ω–æ–≤)
- **InfographicPanel.svelte**: –ü–∞–Ω–µ–ª—å –∏–Ω—Ñ–æ–≥—Ä–∞—Ñ–∏–∫–∏

#### –°—Ç–æ—Ä—ã (State Management)
- **gameStore.svelte.ts**: –ò–≥—Ä–æ–≤–æ–π –ø—Ä–æ–≥—Ä–µ—Å—Å, –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å, —Å—Ç–∞—Ç—ã –ø–µ—Ä—Å–æ–Ω–∞–∂–∞, –∑–∞–≥—Ä—É–∑–∫–∞ –∏—Å—Ç–æ—Ä–∏–π. –°–æ–¥–µ—Ä–∂–∏—Ç –ª–æ–≥–∏–∫—É –¥–ª—è –≤—ã–±–æ—Ä–∞ –∏—Å—Ç–æ—Ä–∏–∏ –∏–∑ URL –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤.
- **authStore.svelte.ts**: –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è, –ø—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, —Å–µ—Å—Å–∏–∏. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Ä–µ–∞–∫—Ç–∏–≤–Ω—ã–π –æ–±—ä–µ–∫—Ç `authStateObj` —Å `$state`.
- **storiesStore.svelte.ts**: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏—è–º–∏ –∏–∑ –ë–î, fallback –¥–ª—è –≥–æ—Å—Ç–µ–π. –°–æ–¥–µ—Ä–∂–∏—Ç `FALLBACK_STORIES` –¥–ª—è –æ—Ñ–ª–∞–π–Ω-—Ä–µ–∂–∏–º–∞.
- **editorStore.svelte.ts**: –°–æ—Å—Ç–æ—è–Ω–∏–µ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞ (–≤—ã–±—Ä–∞–Ω–Ω—ã–π –¥–∏–∞–ª–æ–≥, —Å—Ç–∞—Ç—É—Å, –¥–∞–Ω–Ω—ã–µ, —Ñ–ª–∞–≥ `manualStorySelected`)
- **storyStore.ts**: –î–µ–π—Å—Ç–≤–∏—è —Å –∏—Å—Ç–æ—Ä–∏—è–º–∏ (–∑–∞–≥—Ä—É–∑–∫–∞, —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ, —Å–æ–∑–¥–∞–Ω–∏–µ)
- **resourceStore.ts**: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–∞–º–∏ –≤ Supabase
- **bucketStore.ts**: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ bucket'–∞–º–∏ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞
- **userKeyStore**: –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–∫–ª—é—á–∏, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤–∏–∑–∏—Ç–æ–≤, –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∏–≥—Ä)
- **gameModeStore.svelte.ts**: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ–∂–∏–º–∞–º–∏ –∏–≥—Ä—ã

#### –ú–∏–Ω–∏-–∏–≥—Ä—ã (`src/lib/minigames/`)
- –ë–æ–ª–µ–µ 18 —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –º–∏–Ω–∏-–∏–≥—Ä (–ø–∞–º—è—Ç—å, –≥–æ–ª–æ–≤–æ–ª–æ–º–∫–∏, –∞—Ä–∫–∞–¥—ã)
- –í—Å–µ –º–∏–Ω–∏-–∏–≥—Ä—ã —Å–ª–µ–¥—É—é—Ç –µ–¥–∏–Ω–æ–º—É –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–∞–≥—Ä–∞–¥ (–ø—Ä–µ–¥–º–µ—Ç—ã, —Å—Ç–∞—Ç—ã)
- –û–±—â–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã: BodyWrapper, GameFooter, GameHeader, MinigameModal, RewardPanel

### PWA –∏ –û—Ñ–ª–∞–π–Ω-—Ä–µ–∂–∏–º

#### Service Worker (`public/sw.js`)
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ä–µ—Å—É—Ä—Å–æ–≤ (JS, CSS, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, Rive-—Ñ–∞–π–ª—ã)
- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ JSON –∏—Å—Ç–æ—Ä–∏–π
- –°—Ç—Ä–∞—Ç–µ–≥–∏—è: Network-first –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏, Cache-first –¥–ª—è —Å—Ç–∞—Ç–∏–∫–∏
- Fallback –Ω–∞ –∫—ç—à –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ —Å–µ—Ç–∏
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Å—Ö–µ–º: chrome-extension, moz-extension, data, blob
- –ü—Ä–µ–¥–∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ JSON –∏—Å—Ç–æ—Ä–∏–π –¥–ª—è –æ—Ñ–ª–∞–π–Ω-—Ä–∞–±–æ—Ç—ã
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ `.riv` —Ñ–∞–π–ª–æ–≤

#### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ–Ω–ª–∞–π–Ω/–æ—Ñ—Ñ–ª–∞–π–Ω —Å—Ç–∞—Ç—É—Å–∞
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ `navigator.onLine` –∏ —Å–æ–±—ã—Ç–∏—è `online`/`offline`
- –í `TelegramApp.svelte`: –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–µ—Ç–∏, –ø–æ–∫–∞–∑ —Å–æ–æ–±—â–µ–Ω–∏—è "–ù–µ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è" –ø—Ä–∏ –æ—Ñ–ª–∞–π–Ω–µ
- –í `Main.svelte`: –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ç–∏ –¥–ª—è –∫–Ω–æ–ø–∫–∏ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞
- –ë–µ–∑ —Å–µ—Ç–∏:
  - –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞ (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ "–ù–µ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è")
  - –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ (–∫–Ω–æ–ø–∫–∞ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞ —Å–∫—Ä—ã—Ç–∞)
  - –î–æ—Å—Ç—É–ø–Ω—ã —Ç–æ–ª—å–∫–æ –∏—Å—Ç–æ—Ä–∏–∏ –∏–∑ fallback-–∫—ç—à–∞
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ Supabase —á–µ—Ä–µ–∑ –∫–∞—Å—Ç–æ–º–Ω—ã–π fetch

#### Fallback –¥–ª—è –≥–æ—Å—Ç–µ–π
- –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–ø–∏—Å–æ–∫ –∏—Å—Ç–æ—Ä–∏–π –≤ `storiesStore.svelte.ts` (FALLBACK_STORIES)
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ —Å–µ—Ç–∏ –∏–ª–∏ –æ—à–∏–±–∫–∞—Ö RLS
- –í–∫–ª—é—á–∞–µ—Ç: dracula, zombie, fairy_tale, minigames

## –ú–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö

### Story (–∏–∑ —Ç–∞–±–ª–∏—Ü—ã Supabase)
```typescript
{
  id: string
  created_at: string
  title: string
  author_id: string | null
  json_url: string          // –ò–º—è JSON —Ñ–∞–π–ª–∞ –≤ storage
  preview_image_url: string | null
  is_public: boolean
  allowed_players: string[]
  bucket: string            // Bucket –≤ storage
}
```

### StoryData (JSON —Å—Ç—Ä—É–∫—Ç—É—Ä–∞)
```typescript
{
  meta: { version: string, title: string }
  chapters: Chapter[]
  dialogues: Dialogue[]
  items: Item[]
  miniGames: any[]
}
```

### Dialogue
```typescript
{
  id: string
  chapterId: string
  text: string
  backgroundImage?: string
  characterImage?: string
  stateMachineCharacterRive?: string  // Rive-–∞–Ω–∏–º–∞—Ü–∏—è –ø–µ—Ä—Å–æ–Ω–∞–∂–∞
  smTriggerBackgroundRive?: string     // –¢—Ä–∏–≥–≥–µ—Ä –¥–ª—è Rive-–∞–Ω–∏–º–∞—Ü–∏–∏ —Ñ–æ–Ω–∞
  nextDialogueId?: string
  options?: Option[]
  onEnter?: Array<{ type: string, id?: string, value?: any }>
}
```

### Option (–≤–∞—Ä–∏–∞–Ω—Ç –æ—Ç–≤–µ—Ç–∞)
```typescript
{
  text: string
  nextDialogueId?: string
  miniGame?: {
    id: string
    onWinDialogueId: string
    onLoseDialogueId: string
    rewardItem?: string
  }
  actions?: Array<{ type: string, id?: string, value?: any }>
  enabled?: boolean
  visible?: boolean
  visibilityCondition?: Condition
}
```

### Condition (—É—Å–ª–æ–≤–∏–µ –≤–∏–¥–∏–º–æ—Å—Ç–∏)
```typescript
{
  type: "has_item" | "stat_greater" | "flag_true" | "always"
  itemId?: string
  statName?: string
  statValue?: number
  flagName?: string
}
```

### Item (–ø—Ä–µ–¥–º–µ—Ç)
```typescript
{
  id: string
  name: string
  description: string
  icon: string
  type: "tool" | "key" | "consumable" | "quest" | "misc"
}
```

## –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```bash
npm install
```

### –ó–∞–ø—É—Å–∫ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
```bash
npm run dev
```
–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ –∞–¥—Ä–µ—Å—É `http://localhost:5173`

### –°–±–æ—Ä–∫–∞ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
```bash
npm run build
```

### –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –ø—Ä–æ–¥–∞–∫—à–Ω-—Å–±–æ—Ä–∫–∏
```bash
npm run preview
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤
```bash
npm run check
```

## –ü—Ä–∞–≤–∏–ª–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### Svelte 5 (Runes)
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å runes (`$state`, `$derived`, `$effect`) –≤–º–µ—Å—Ç–æ —Å—Ç–∞—Ä–æ–≥–æ —Ä–µ–∞–∫—Ç–∏–≤–Ω–æ–≥–æ API
- –î–ª—è —Ä–µ–∞–∫—Ç–∏–≤–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å runes-based –ø–æ–¥—Ö–æ–¥
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–º–∏
- `$state` –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –∏–∑–º–µ–Ω—è–µ–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö, `$derived` –¥–ª—è –≤—ã—á–∏—Å–ª—è–µ–º—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π

### TypeScript
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ç—Ä–æ–≥—É—é —Ç–∏–ø–∏–∑–∞—Ü–∏—é (strict mode)
- –í—Å–µ —Ç–∏–ø—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –≤ `src/lib/editor/types/index.ts` –∏–ª–∏ `src/lib/types/`
- –ò–∑–±–µ–≥–∞—Ç—å —Ç–∏–ø–∞ `any`, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `unknown` –∏–ª–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ç–∏–ø—ã
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –¥–ª—è –≤—Å–µ—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π

### –ò–º–µ–Ω–æ–≤–∞–Ω–∏–µ
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã: PascalCase (`Main.svelte`, `DialogueCard.svelte`)
- –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏ —Ñ—É–Ω–∫—Ü–∏–∏: camelCase (`selectedDialogueId`, `loadStory`)
- –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã: UPPER_SNAKE_CASE (`BUCKET_NAME`)
- TypeScript –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –∏ —Ç–∏–ø—ã: PascalCase (`StoryData`, `Dialogue`)
- –§–∞–π–ª—ã —Å—Ç–æ—Ä–æ–≤: camelCase —Å —Å—É—Ñ—Ñ–∏–∫—Å–æ–º `Store` –∏–ª–∏ `svelte.ts` –¥–ª—è Svelte 5 —Å—Ç–æ—Ä–æ–≤

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤
- –ö–∞–∂–¥—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º —Ñ–∞–π–ª–µ `.svelte`
- –¢–∏–ø—ã –≤—ã–Ω–æ—Å–∏—Ç—å –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã `types/index.ts`
- –£—Ç–∏–ª–∏—Ç—ã –∏ helper-—Ñ—É–Ω–∫—Ü–∏–∏ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `utils/`
- –°—Ç–æ—Ä—ã –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `stores/`

### –ö–æ–Ω–≤–µ–Ω—Ü–∏–∏ –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–π –Ω–æ–≤–µ–ª–ª—ã

#### –î–∏–∞–ª–æ–≥–∏
- –ö–∞–∂–¥—ã–π –¥–∏–∞–ª–æ–≥ –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–π `id`
- `chapterId` –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω –¥–ª—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
- –¢–µ–∫—Å—Ç –¥–∏–∞–ª–æ–≥–∞ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∫—Ä–∞—Ç–∫–∏–º –∏ —ë–º–∫–∏–º
- –§–æ–Ω—ã –∏ –ø–µ—Ä—Å–æ–Ω–∞–∂–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –¥–ª—è TMA

#### –û–ø—Ü–∏–∏ (–≤–∞—Ä–∏–∞–Ω—Ç—ã –æ—Ç–≤–µ—Ç–æ–≤)
- –í—Å–µ–≥–¥–∞ —É–∫–∞–∑—ã–≤–∞—Ç—å `nextDialogueId` –∏–ª–∏ `miniGame`
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —É—Å–ª–æ–≤–∏—è –≤–∏–¥–∏–º–æ—Å—Ç–∏ –¥–ª—è –≤–µ—Ç–≤–ª–µ–Ω–∏—è —Å—é–∂–µ—Ç–∞
- –î–µ–π—Å—Ç–≤–∏—è (actions) –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∞—Ç–æ–º–∞—Ä–Ω—ã–º–∏

#### –ü—Ä–µ–¥–º–µ—Ç—ã (Items)
- –¢–∏–ø—ã –ø—Ä–µ–¥–º–µ—Ç–æ–≤: `tool`, `key`, `consumable`, `quest`, `misc`
- –ö–∞–∂–¥—ã–π –ø—Ä–µ–¥–º–µ—Ç –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å –æ–ø–∏—Å–∞–Ω–∏–µ –∏ –∏–∫–æ–Ω–∫—É
- –ò–∫–æ–Ω–∫–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Supabase

- –í—Å–µ —Ñ–∞–π–ª—ã –∏—Å—Ç–æ—Ä–∏–π —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö bucket'–∞—Ö (dracula, zombie, fairy_tale, minigames)
- –†–µ—Å—É—Ä—Å—ã (–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, Rive) –≤ —Ç–æ–º –∂–µ bucket
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `upsert: true` –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –æ—à–∏–±–∫–∏ –∑–∞–≥—Ä—É–∑–∫–∏/—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º–∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏
- **RLS –ø–æ–ª–∏—Ç–∏–∫–∏**: –î–ª—è –ø—É–±–ª–∏—á–Ω—ã—Ö –∏—Å—Ç–æ—Ä–∏–π –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ–ª–∏—Ç–∏–∫—É `is_public = true`
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ —á–µ—Ä–µ–∑ custom fetch –≤ `supabaseClient.ts`
- –ö–∞—Å—Ç–æ–º–Ω—ã–π fetch –ª–æ–≥–∏—Ä—É–µ—Ç –º–µ—Ç–æ–¥, URL, —Å—Ç–∞—Ç—É—Å –∏ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–∞–∂–¥–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram

- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Telegram WebApp —á–µ—Ä–µ–∑ `initializeTelegram()`
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è —á–µ—Ä–µ–∑ `ifUseTelegram()`
- –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —á–µ—Ä–µ–∑ `getTelegramUser()`
- –†–∞—Å—à–∏—Ä—è—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ –≤–µ—Å—å —ç–∫—Ä–∞–Ω: `tg.expand()`

### –ê–Ω–∏–º–∞—Ü–∏–∏ Rive

- Rive-—Ñ–∞–π–ª—ã —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ Supabase Storage
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å State Machine –¥–ª—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã—Ö –∞–Ω–∏–º–∞—Ü–∏–π
- –¢—Ä–∏–≥–≥–µ—Ä—ã –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–π –∑–∞–¥–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ `smTriggerBackgroundRive`
- –û–±–µ—Å–ø–µ—á–∏–≤–∞—Ç—å fallback –Ω–∞ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
- –ö—ç—à–∏—Ä—É—é—Ç—Å—è Service Worker'–æ–º –¥–ª—è –æ—Ñ–ª–∞–π–Ω-—Ä–∞–±–æ—Ç—ã
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ `stateMachineCharacterRive` –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–π –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π

### –ú–∏–Ω–∏-–∏–≥—Ä—ã

- –ú–∏–Ω–∏-–∏–≥—Ä—ã –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É—é—Ç—Å—è —á–µ—Ä–µ–∑ –æ–ø—Ü–∏–∏ –¥–∏–∞–ª–æ–≥–æ–≤
- –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —É–∫–∞–∑—ã–≤–∞—Ç—å `onWinDialogueId` –∏ `onLoseDialogueId`
- –ú–∏–Ω–∏-–∏–≥—Ä—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
- –ë–æ–ª–µ–µ 18 –∏–≥—Ä –≤ `src/lib/minigames/`
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±—â–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã: BodyWrapper, GameFooter, GameHeader, MinigameModal, RewardPanel

### PWA –∏ –û—Ñ–ª–∞–π–Ω

- Service Worker —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è –≤ `index.html`
- –ö—ç—à–∏—Ä—É—é—Ç—Å—è: JS, CSS, PNG, JPG, SVG, JSON, RIV, —à—Ä–∏—Ñ—Ç—ã
- –ë–µ–∑ —Å–µ—Ç–∏:
  - –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞ (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ "–ù–µ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è")
  - –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ (–∫–Ω–æ–ø–∫–∞ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞ —Å–∫—Ä—ã—Ç–∞)
  - –ò—Å—Ç–æ—Ä–∏–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∏–∑ fallback
- –ü—Ä–æ–≤–µ—Ä–∫–∞ `navigator.onLine` –ø–µ—Ä–µ–¥ –∑–∞–ø—Ä–æ—Å–∞–º–∏ –∫ Supabase

### –ú–∏–≥—Ä–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö

- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–∏—Å—Ç–µ–º—É –º–∏–≥—Ä–∞—Ü–∏–π –≤ `src/lib/editor/utils/migration.ts`
- –ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç–∞—Ä—ã—Ö –∏—Å—Ç–æ—Ä–∏–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏–º–µ–Ω—è—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
- –°–æ—Ö—Ä–∞–Ω—è—Ç—å –æ–±—Ä–∞—Ç–Ω—É—é —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –ø—Ä–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—É—Ç–∏ –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ (—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ, –∑–∞–≥—Ä—É–∑–∫–∞)
- –ü—Ä–æ–≤–µ—Ä—è—Ç—å —Ä–∞–±–æ—Ç—É —É—Å–ª–æ–≤–∏–π –≤–∏–¥–∏–º–æ—Å—Ç–∏ –æ–ø—Ü–∏–π
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å Supabase
- –ü—Ä–æ–≤–µ—Ä—è—Ç—å —Ä–∞–±–æ—Ç—É –≤ –æ—Ñ–ª–∞–π–Ω-—Ä–µ–∂–∏–º–µ
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ Telegram Mini App –æ–∫—Ä—É–∂–µ–Ω–∏–∏
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫—É PWA –Ω–∞ iOS Safari

### Git workflow

- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å feature branches –¥–ª—è –Ω–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
- –ù–∞–∑–≤–∞–Ω–∏—è –≤–µ—Ç–æ–∫: `feature/–Ω–∞–∑–≤–∞–Ω–∏–µ-—Ñ—É–Ω–∫—Ü–∏–∏`, `fix/–æ–ø–∏—Å–∞–Ω–∏–µ-–±–∞–≥–∞`
- –ü–∏—Å–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ commit messages –Ω–∞ —Ä—É—Å—Å–∫–æ–º –∏–ª–∏ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º
- –ü–µ—Ä–µ–¥ merge –∑–∞–ø—É—Å–∫–∞—Ç—å `npm run check` –∏ `npm run build`

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∫–æ–º–º–∏—Ç–∏—Ç—å API –∫–ª—é—á–∏ –∏ —Å–µ–∫—Ä–µ—Ç—ã
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- –ü—Ä–æ–≤–µ—Ä—è—Ç—å –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ
- –í–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å JSON —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∏—Å—Ç–æ—Ä–∏–π
- –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –±–µ–∑ —Å–µ—Ç–∏ (—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### Vite (`vite.config.ts`)
- –ê–ª–∏–∞—Å `@` —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ `src`
- –ü–ª–∞–≥–∏–Ω `svelte` –¥–ª—è Svelte 5
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–µ–∂–∏–º–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞

### TypeScript (`tsconfig.json`)
- Strict mode –≤–∫–ª—é—á—ë–Ω
- Path aliases –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- –¶–µ–ª–µ–≤–∞—è –≤–µ—Ä—Å–∏—è: ES2020
- –û—Ç–¥–µ–ª—å–Ω—ã–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –¥–ª—è app –∏ node

### PWA –º–∞–Ω–∏—Ñ–µ—Å—Ç (`public/manifest.json`)
- name: "–í–∏–∑—É–∞–ª—å–Ω—ã–µ –Ω–æ–≤–µ–ª–ª—ã"
- short_name: "–ù–æ–≤–µ–ª–ª—ã"
- display: "standalone"
- orientation: "portrait"
- categories: ["games", "entertainment"]
- theme_color: "#e94560"
- background_color: "#1a1a2e"

### Service Worker (`public/sw.js`)
- –ö—ç—à –≤–µ—Ä—Å–∏–∏: novella-v1, novella-static-v1, novella-dynamic-v1
- –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –∞—Å—Å–µ—Ç—ã –ø—Ä–µ–¥–∫—ç—à–∏—Ä—É—é—Ç—Å—è –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ
- –°—Ç—Ä–∞—Ç–µ–≥–∏—è Network-first –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
- –°—Ç—Ä–∞—Ç–µ–≥–∏—è Stale-while-revalidate –¥–ª—è —Å—Ç–∞—Ç–∏–∫–∏
- Fallback –¥–ª—è –æ—Ñ–ª–∞–π–Ω-—Ä–µ–∂–∏–º–∞
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ `.riv` —Ñ–∞–π–ª–æ–≤

### Supabase
- –ü—Ä–æ–µ–∫—Ç ID: `vycjpmuyscfygstjjied`
- URL –∏ anon key —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è `VITE_SUPABASE_URL` –∏ `VITE_SUPABASE_ANON_KEY`
- –¢–∞–±–ª–∏—Ü–∞ `stories` –¥–ª—è –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö –∏—Å—Ç–æ—Ä–∏–π
- Storage buckets –¥–ª—è –∫–∞–∂–¥–æ–π –∏—Å—Ç–æ—Ä–∏–∏

## –¢–µ–∫—É—â–∏–µ –∏—Å—Ç–æ—Ä–∏–∏

–í –ø—Ä–æ–µ–∫—Ç–µ –µ—Å—Ç—å –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ JSON —Ñ–∞–π–ª—ã:
- `dracula.json` / `dracula_story.json` ‚Äî –∏—Å—Ç–æ—Ä–∏—è –ø—Ä–æ –î—Ä–∞–∫—É–ª—É
- `zombie.json` / `zombie_story.json` ‚Äî –ø–æ—Å—Ç–∞–ø–æ–∫–∞–ª–∏–ø—Ç–∏—á–µ—Å–∫–∞—è –∏—Å—Ç–æ—Ä–∏—è
- `fairy_tale.json` ‚Äî —Å–∫–∞–∑–æ—á–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è
- `minigames.json` ‚Äî –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –º–∏–Ω–∏-–∏–≥—Ä

Fallback-–∏—Å—Ç–æ—Ä–∏–∏ –¥–ª—è –æ—Ñ–ª–∞–π–Ω-—Ä–µ–∂–∏–º–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –≤ `storiesStore.svelte.ts`.

## –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

### –ë–µ–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞
- ‚ùå –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞
- ‚ùå –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–π –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ
- ‚ùå –ó–∞–≥—Ä—É–∑–∫–∞ –∏—Å—Ç–æ—Ä–∏–π –∏–∑ Supabase –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞
- ‚úÖ –ü—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∏—Å—Ç–æ—Ä–∏–π (fallback)
- ‚úÖ –í—Å–µ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ —Ä–∞–Ω–µ–µ –∏—Å—Ç–æ—Ä–∏–∏ –¥–æ—Å—Ç—É–ø–Ω—ã

### –†–µ–¥–∞–∫—Ç–æ—Ä
- ‚úÖ –¢–æ–ª—å–∫–æ –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚úÖ –¢–æ–ª—å–∫–æ –¥–ª—è –∞–≤—Ç–æ—Ä–æ–≤ –∏ –∞–¥–º–∏–Ω–æ–≤ (–ø—Ä–æ–≤–µ—Ä–∫–∞ `is_author`, `is_admin`)
- ‚úÖ –¢–æ–ª—å–∫–æ —Å –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–æ–º

### –í–Ω–µ—à–Ω–∏–µ —Å—Å—ã–ª–∫–∏
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ URL –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ `?story=id` –¥–ª—è –ø—Ä—è–º–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –∏—Å—Ç–æ—Ä–∏–∏
- –û—á–∏—Å—Ç–∫–∞ URL –ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –∏—Å—Ç–æ—Ä–∏–∏
- –ü–µ—Ä–µ—Ö–æ–¥ –ø–æ –≤–Ω–µ—à–Ω–µ–π —Å—Å—ã–ª–∫–µ –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –∏—Å—Ç–æ—Ä–∏—é

## –ú–æ–±–∏–ª—å–Ω–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è

### DialogueCard.svelte
- –ó–∞–Ω–∏–º–∞–µ—Ç –≤–µ—Å—å —ç–∫—Ä–∞–Ω –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
- –ö–æ–Ω—Ç–µ–Ω—Ç –≤—ã—Ä–æ–≤–Ω–µ–Ω –ø–æ –Ω–∏–∂–Ω–µ–π –≥—Ä–∞–Ω–∏—Ü–µ —ç–∫—Ä–∞–Ω–∞
- –í–º–µ—Å—Ç–æ –∫–Ω–æ–ø–∫–∏ "–î–∞–ª–µ–µ" –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å–≤–∞–π–ø –≤–ª–µ–≤–æ/–≤–ø—Ä–∞–≤–æ
- –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –æ—Ç—Å—Ç—É–ø—ã –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ touch events –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏

### Main.svelte
- –ö–Ω–æ–ø–∫–∞ –≤—ã–±–æ—Ä–∞ –∏—Å—Ç–æ—Ä–∏–∏ (üìö) –≤ –ª–µ–≤–æ–º –Ω–∏–∂–Ω–µ–º —É–≥–ª—É (–ø–æ–¥ –∫–Ω–æ–ø–∫–æ–π inventory)
- –ö–Ω–æ–ø–∫–∞ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞ (‚úèÔ∏è) –≤ –ø—Ä–∞–≤–æ–º –Ω–∏–∂–Ω–µ–º —É–≥–ª—É (—Ç–æ–ª—å–∫–æ –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö —Å –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–æ–º)
- –ü–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º –¥–ª—è –∏–≥—Ä—ã

### TelegramApp.svelte
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–Ω–ª–∞–π–Ω —Å—Ç–∞—Ç—É—Å–∞
- –°–æ–æ–±—â–µ–Ω–∏–µ "–ù–µ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è" –ø—Ä–∏ –æ—Ñ–ª–∞–π–Ω–µ
- –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ –¥–ª—è iOS Safari

## TODO –∏ –ø–ª–∞–Ω—ã —Ä–∞–∑–≤–∏—Ç–∏—è

- [ ] –î–æ–±–∞–≤–∏—Ç—å –±–æ–ª—å—à–µ –º–∏–Ω–∏-–∏–≥—Ä
- [ ] –£–ª—É—á—à–∏—Ç—å —Å–∏—Å—Ç–µ–º—É –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
- [ ] –î–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–π/–∑–∞–≥—Ä—É–∑–æ–∫ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram Payments (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- [ ] –ú—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç—å (i18n)
- [ ] –£–ª—É—á—à–∏—Ç—å –∞–Ω–∏–º–∞—Ü–∏–∏ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤
- [ ] –î–æ–±–∞–≤–∏—Ç—å —Å–∏—Å—Ç–µ–º—É –Ω–∞—Å—Ç—Ä–æ–µ–∫ (–∑–≤—É–∫, —ç—Ñ—Ñ–µ–∫—Ç—ã)
- [ ] –ü–µ—Ä–µ—Ö–æ–¥ –ø–æ –≤–Ω–µ—à–Ω–µ–π —Å—Å—ã–ª–∫–µ –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –∏—Å—Ç–æ—Ä–∏—é

## –ü–æ–ª–µ–∑–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [Svelte 5 Documentation](https://svelte.dev/docs)
- [Supabase Documentation](https://supabase.com/docs)
- [Rive Documentation](https://rive.app/community/doc)
- [Telegram Mini Apps](https://core.telegram.org/bots/webapps)
- [PWA Documentation](https://web.dev/progressive-web-apps/)
- [Service Worker API](https://developer.mozilla.org/en-US/docs/Web/API/Service_Worker_API)
- [MDN Web Docs - Service Worker](https://developer.mozilla.org/ru-RU/docs/Web/API/Service_Worker_API)
- [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –º–∏–Ω–∏-–∏–≥—Ä–∞–º](docs/QUICK_START.md)
- [–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –º—É–ª—å—Ç–∏—Å—Ç–æ—Ä–∏—Å](docs/MULTI_STORY_GUIDE.md)

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** –Ø–Ω–≤–∞—Ä—å 2025
**–í–µ—Ä—Å–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏:** 3.0
